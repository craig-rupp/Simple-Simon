<!DOCTYPE html>
<html>
	<head>
		<title>Simple Simon</title>
		<!--<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css"
      href="https://fonts.googleapis.com/css?family=Ubuntu"> -->
	<link rel="stylesheet" href="css/simple_simon.css">	
	
	</head>
	<body>

	<style>


	</style>
		<div class="applicationTitle"><h2>Simple Simon</h2><br>
		<div class="container-fluid"><br>
			<div id="first_box" data-value="1" class="bop-it"></div>
			<div id="second_box" data-value="2" class="bop-it"></div>
			<div id="third_box" data-value="3" class="bop-it"></div>
			<div id="fourth_box" data-value="4" class="bop-it"></div><br>
		</div>
			<button id="start_button">Click to Begin</button>


			
		

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

		<script>
		(function(){
			'use strict';

			var firstBox = $('#first_box');
			var secondBox = $('#second_box');
			var thirdBox = $('#third_box');
			var fourthBox= $('#fourth_box');

			var colorArray = [firstBox,secondBox,thirdBox,fourthBox];
			var randomArraySelector = [];
			var clickedArrayOption = [];
			var randColor;
			// var clickedBox;
			var i = 0;

			
			// console.log(colorArray);

			function generateRandom(){
				randColor = colorArray[Math.floor(Math.random()* colorArray.length)];
				return randColor.data('value');
			}

			function firstSequence (){
				randomArraySelector.push(generateRandom());
				console.log(randomArraySelector);
				$(randomArraySelector).each(function(index,element) {
					setTimeout(function(){
						$('[data-value=' + (element) + ']').animate({
								'opacity': '1'
							}, 300).animate({
								'opacity': '.3'
							}, 300);
									
					}, 600 * (index + .5));
				});
			}
			$('#start_button').click(function(){
				firstSequence();
			})
			$('.bop-it').click(function(){
				var clickedBox = $(this).data('value');
				clickedArrayOption.push(clickedBox);
				console.log(clickedBox);
				if(clickedBox === randomArraySelector[i]){
					// clickedArrayOption = [];
					i++;
					if (randomArraySelector.length == i) {
						firstSequence();
						console.log(randomArraySelector);
						i = 0;
					}
					
				} else{
					alert('wrong')
					i = 0;
					clickedArrayOption = [];
					randomArraySelector = [];
				}
			});	

		
		})();		
		

		</script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	</body>
</html>